p8105\_hw3\_yw3236
================
Yishan Wang
2018-10-15

Problem 1
=========

``` r
devtools::install_github("p8105/p8105.datasets")
```

    ## Skipping install of 'p8105.datasets' from a github remote, the SHA1 (21f5ad1c) has not changed since last install.
    ##   Use `force = TRUE` to force installation

``` r
library(p8105.datasets)
data(brfss_smart2010) 
```

### Clean Data

-   Format the data to use appropriate variable names
-   Focus on the “Overall Health” topic
-   Include only responses from “Excellent” to “Poor”
-   Organize responses as a factor taking levels ordered from “Excellent” to “Poor”

``` r
formated_brfss_smart2010 = brfss_smart2010 %>%
  janitor::clean_names() %>%
  rename(., state = locationabbr, county = locationdesc) %>%
  filter(., topic == "Overall Health") %>%
  filter(., response == "Excellent" | response == "Very good" | response == "Good" | response == "Fair" | response == "Poor") %>%
  mutate(., factor(response, levels = c("Excellent", "Very good", "Good", "Fair", "Poor")))

formated_brfss_smart2010
```

    ## # A tibble: 10,625 x 24
    ##     year state county class topic question response sample_size data_value
    ##    <int> <chr> <chr>  <chr> <chr> <chr>    <chr>          <int>      <dbl>
    ##  1  2010 AL    AL - ~ Heal~ Over~ How is ~ Excelle~          94       18.9
    ##  2  2010 AL    AL - ~ Heal~ Over~ How is ~ Very go~         148       30  
    ##  3  2010 AL    AL - ~ Heal~ Over~ How is ~ Good             208       33.1
    ##  4  2010 AL    AL - ~ Heal~ Over~ How is ~ Fair             107       12.5
    ##  5  2010 AL    AL - ~ Heal~ Over~ How is ~ Poor              45        5.5
    ##  6  2010 AL    AL - ~ Heal~ Over~ How is ~ Excelle~          91       15.6
    ##  7  2010 AL    AL - ~ Heal~ Over~ How is ~ Very go~         177       31.3
    ##  8  2010 AL    AL - ~ Heal~ Over~ How is ~ Good             224       31.2
    ##  9  2010 AL    AL - ~ Heal~ Over~ How is ~ Fair             120       15.5
    ## 10  2010 AL    AL - ~ Heal~ Over~ How is ~ Poor              66        6.4
    ## # ... with 10,615 more rows, and 15 more variables:
    ## #   confidence_limit_low <dbl>, confidence_limit_high <dbl>,
    ## #   display_order <int>, data_value_unit <chr>, data_value_type <chr>,
    ## #   data_value_footnote_symbol <chr>, data_value_footnote <chr>,
    ## #   data_source <chr>, class_id <chr>, topic_id <chr>, location_id <chr>,
    ## #   question_id <chr>, respid <chr>, geo_location <chr>, `factor(response,
    ## #   levels = c("Excellent", "Very good", "Good", \n "Fair",
    ## #   "Poor"))` <fct>
